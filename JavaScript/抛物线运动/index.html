<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>面向对象</title>
		<style type="text/css">
			.box {
				width: 500px;
				height: 500px;
				background-color: black;
				position: relative;
			}

			.box>div {
				border-radius: 50%;
				position: absolute;
				top: 450px;
				left: 0;
			}

			#red {
				width: 50px;
				height: 50px;
				background-color: orange;
			}

			#green {
				width: 50px;
				height: 50px;
				background-color: green;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<div id="red"></div>
			<div id="green"></div>
		</div>
		<script type="text/javascript">
			// 构造函数
			function Car(Element) {
				this.obj = Element;
				this.isTrunRight = true;
			}
			// 为构造函数的实例添加公共的属性。构造函数的原型prototype
			Car.prototype.move = function(speed) {
				let po = parseFloat(getComputedStyle(this.obj).left);
				if (this.isTrunRight) {
					// 直线 y=3*x
					// if (po > (150)) {
					// 	this.isTrunRight = false;
					// }
					// this.obj.style.left = po + speed + 'px';
					// this.obj.style.top = parseFloat(this.obj.style.left) * 3 + 'px';

					// 抛物线 y=0.0089x^2-4.005x+450
					if (po > 450) {
						this.isTrunRight = false;
					}
					this.obj.style.left = po + speed + 'px';
					this.obj.style.top = 0.0089 * Math.pow(parseFloat(this.obj.style.left), 2) - 4.005 *
						parseFloat(this.obj.style.left) + 450 +
						'px';
				} else {
					// 直线 y=3*x
					// if (po < 0) {
					// 	this.isTrunRight = true;
					// }
					// this.obj.style.left = po - speed + 'px';
					// this.obj.style.top = parseFloat(this.obj.style.left) * 3 + 'px';

					// 抛物线 y=0.0089x^2-4.005x+450
					if (po < 0) {
						this.isTrunRight = true;
					}
					this.obj.style.left = po - speed + 'px';
					this.obj.style.top = 0.0089 * Math.pow(parseFloat(this.obj.style.left), 2) - 4.005 *
						parseFloat(this.obj.style.left) + 450 +
						'px';
				}
			}

			// 创建构造函数的实例化对象
			let redEle = new Car(document.querySelector('#red'));
			let greenEle = new Car(document.querySelector('#green'));

			let iter01 = setInterval(() => {
				redEle.move(1);
				greenEle.move(1.5);
			}, 10);

			let arr = [1, 2, 3, 4, 5, 6, 7];

			function copyArr(obj) {
				let result = [];
				for (let n in obj) {
					result.push(arr[n]);
				}
				return result;
			}

			console.log();
		</script>
	</body>
</html>
